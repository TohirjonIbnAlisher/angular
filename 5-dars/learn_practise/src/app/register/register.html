<div class="register-form">
  <h2> Ro'yxatdan o'tish </h2>

  <form #registerForm="ngForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label> Ism: </label>
      <input
        type="text"
        [(ngModel)]="name"
        name="name"
        #nameField="ngModel"
        required
        minlength="3"
        placeholder="Ismingizni kiriting">

      @if(nameField.invalid && nameField.touched){
        <div class="error">
          @if(nameField.errors?.['minLength']){
            <span> Ism kamida 3 ta harf bo'lishi kerak </span>
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label> Email: </label>
      <input
        type="email"
        [(ngModel)]="email"
        name="email"
        #emailField="ngModel"
        required
        email
        placeholder="Email kiriting">

      @if(emailField.invalid && emailField.touched)
      {
        <div class="errors">
          @if(emailField.errors?.['required']){
            <span> Email majburiy </span>
          }
          @if(emailField.errors?.['email']){
            <span> Email formati noto'g'ri </span>
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label> Parol: </label>
      <input
        type="password"
        [(ngModel)]="password"
        name="password"
        #passwordField="ngModel"
        required
        minlength="6"
        placeholder="Parol kiriting">

        @if(passwordField.invalid && passwordField.touched){
          <div class="error">
            @if(passwordField.errors?.['required']){
              <span> Parol majburiy </span>
            }
            @if(passwordField.errors?.['minLength']){
              <span> Parol kamida 6 ta belgidan iborat bo'lishi kerak </span>
            }
          </div>
        }
    </div>

    <button
      type="submit"
      [disabled]="registerForm.invalid">
      Ro'yxatdan o'tish
    </button>

  </form>

</div>
